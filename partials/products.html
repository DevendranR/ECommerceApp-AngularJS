
<div ng-controller="productController" ng-init="getProducts()">
<script type="text/ng-template" id="addedToCart.html">
      <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Product added to cart Successfully !</h3>
      </div>
      <div class="modal-body" id="modal-body">
	
		<table class="table">
		<thead>
			<tr class="success">
				<td >ID</td>
				<td>Name</td>
				<td>Type</td>
				<td>Quantity</td>
				<td>Quantity Type</td>
			</tr>
		</thead>
		<tbody>
			<tr">
				<td>{{$ctrl.items.Id}}</td>
				<td>{{$ctrl.items.Name}}</td>
				<td>{{$ctrl.items.Type}}</td>
				<td>{{$ctrl.items.Quantity}}</td>
				<td>{{$ctrl.items.QuantityType}}</td>
			</tr>
		</tbody>
	</table>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
      </div>
    </script>
<div>
<div class="errMessage" ng-show = "errMessage.length>0">{{errMessage}}</div>
<h3>Our Products</h3>
<div ng-repeat="product in products">
	
	<div class="col-md-12" id="products"> 
			        	<div class="thumbnail col-md-5">
				          <img ng-src="{{product.img}}" alt="" >
				          <div class="caption">
				            <p>{{product.pname}}</p>
				          </div>
				      </div>
        				<div class="col-md-3" >
					      	<h3>{{product.pname}}</h3>
					      	<p>Product Id : {{product.pid}}</p>
					      	<p>{{product.pdescription}}<p>
					      	<p ng-if="product.pdiameter!=null">Specification:{{product.pdiameter}}<p>
					      </div>
					      <div class="col-md-4">
					      <div id="{{product.pid}}">
					      		<div class="form-group flexDisplay" >
								    <label class="left">Price</label>
								    
									<div class="emptyPrice" ng-if="price[$index]==undefined" ng-init="divprice=product.price[1].price">{{divprice}}</div>
								    <input ng-if="price[$index]!=undefined" type="text" readonly class="form-control" id="price"  ng-model="price[$index]"></input>
								    <select class="form-control" ng-model="selectedPType" ng-init="selectedPType = product.price[1]" 
								    ng-options="x.type for x in product.price" ng-change="selectprice(selectedPType,$index)">
									</select>
								  </div>
					      		<div class="form-group flexDisplay">
								    <label class="left">Quantity</label>
								    	<input type="number" class="form-control" id="quantity" min="1" ng-model="quantity">
							      		<select class="form-control" ng-model="selectedType" ng-init="selectedType = product.price[0]" ng-options="x.type for x in product.price">
										</select>	
								</div>
								
        					
								<div class="form-group flexDisplay">
								<label></label>
									<button type="button" id="prodBtn" class="btn btn-primary" ng-click="addToList(product,quantity,selectedType.type)">Add to List</button>
								</div>
								
							</div>
					      </div>
					    </div>
</div>

</div>

</div>
			